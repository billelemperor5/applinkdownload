const translations = {
    ar: {
        app_name: "مصاريفي",
        nav_features: "المميزات",
        nav_download: "تحميل",
        nav_about: "عن المطور",
        nav_contact: "تواصل معي",
        hero_badge: "الإصدار الجديد v1.0",
        hero_title: 'تحكم في <span class="gradient-text">مصاريفك</span> بذكاء',
        hero_desc: "التطبيق الشامل لإدارة ميزانيتك، تتبع نفقاتك، وتسجيل حضورك وغيابك. كل ما تحتاجه في مكان واحد.",
        btn_download: "تحميل للأندرويد",
        btn_more: "اكتشف المزيد",
        features_title: "لماذا تختار تطبيقنا؟",
        features_subtitle: "مجموعة من الأدوات القوية المصممة لراحتك",
        feat_1_title: "تتبع المصاريف",
        feat_1_desc: "سجل كل مصروفاتك بدقة واعرف أين تذهب أموالك من خلال تقارير مفصلة ورسوم بيانية.",
        feat_2_title: "سجل الحضور",
        feat_2_desc: "نظام متكامل لتسجيل الحضور والغياب، مثالي للعمل أو الدراسة مع تقارير شهرية.",
        feat_3_title: "المحفظة الذكية",
        feat_3_desc: "إدارة ذكية للميزانية مع خيارات لتوزيع المصاريف وتحديد الأهداف المالية.",
        feat_4_title: "نسخ احتياطي",
        feat_4_desc: "لا تفقد بياناتك أبداً. ميزة النسخ الاحتياطي السحابي تضمن أمان معلوماتك واسترجاعها في أي وقت.",
        about_title: "نبذة عن المطوّر – بلال بورابعة",
        about_desc_1: "أنا بلال بورابعة، مطوّر تطبيقات ومهتم بعالم البرمجة والتقنيات الحديثة منذ أكثر من عشر سنوات. بدأت رحلتي في هذا المجال عام 2014، ومنذ ذلك الوقت وأنا أعمل على تطوير مشاريع تجمع بين البساطة، الفعالية، وتجربة الاستخدام السلسة.",
        about_desc_2: "أركز في عملي على بناء حلول عملية تلائم احتياجات المستخدم اليومية، سواء في إدارة المصاريف، تنظيم الأعمال، أو تحسين الإنتاجية. تطبيق مصاريفي هو واحد من المشاريع التي طُوّرت بشغف كبير، ليقدّم تجربة ذكية وسهلة لكل من يريد التحكم في ميزانيته وإدارة نفقاته بطريقة حديثة وواضحة.",
        about_desc_3: "أشارك بشكل مستمر تجاربي وتحليلاتي التقنية عبر مدونتي وصفحاتي على وسائل التواصل، وأسعى دائماً لتطوير أدوات أفضل ودعم المستخدمين بكل ما يحتاجونه.",
        about_desc_4: "إذا كان لديك أي استفسار، اقتراح، أو تريد التواصل معي مباشرة، فيسعدني ذلك دائماً.",
        contact_title: "تواصل مع المطور",
        contact_desc: "تابعني على وسائل التواصل الاجتماعي للحصول على آخر التحديثات والدعم.",
        footer_copy: "جميع الحقوق محفوظة &copy; 2025 تطبيق مصاريفي"
    },
    en: {
        app_name: "Masarifi",
        nav_features: "Features",
        nav_download: "Download",
        nav_about: "About Developer",
        nav_contact: "Contact",
        hero_badge: "New Version v1.0",
        hero_title: 'Control Your <span class="gradient-text">Expenses</span> Smartly',
        hero_desc: "The comprehensive app to manage your budget, track expenses, and record attendance. Everything you need in one place.",
        btn_download: "Download for Android",
        btn_more: "Discover More",
        features_title: "Why Choose Our App?",
        features_subtitle: "A set of powerful tools designed for your convenience",
        feat_1_title: "Expense Tracking",
        feat_1_desc: "Record all your expenses accurately and know where your money goes through detailed reports and charts.",
        feat_2_title: "Attendance Log",
        feat_2_desc: "Integrated system for recording attendance and absence, perfect for work or study with monthly reports.",
        feat_3_title: "Smart Wallet",
        feat_3_desc: "Smart budget management with options to distribute expenses and set financial goals.",
        feat_4_title: "Cloud Backup",
        feat_4_desc: "Never lose your data. Cloud backup feature ensures your information is safe and retrievable anytime.",
        about_title: "About the Developer – Billel Bouraba",
        about_desc_1: "I am Billel Bouraba, an app developer passionate about programming and modern technologies for over ten years. My journey began in 2014, and since then I have been developing projects that combine simplicity, efficiency, and seamless user experience.",
        about_desc_2: "I focus on building practical solutions that fit daily user needs, whether in expense management, business organization, or productivity improvement. Masarifi app is one of the projects developed with great passion to offer a smart and easy experience for anyone wanting to control their budget.",
        about_desc_3: "I continuously share my technical experiences and analyses through my blog and social media pages, always striving to develop better tools and support users with everything they need.",
        about_desc_4: "If you have any inquiry, suggestion, or want to contact me directly, I would be happy to hear from you.",
        contact_title: "Contact Developer",
        contact_desc: "Follow me on social media for the latest updates and support.",
        footer_copy: "All rights reserved &copy; 2025 Masarifi App"
    },
    fr: {
        app_name: "Masarifi",
        nav_features: "Fonctionnalités",
        nav_download: "Télécharger",
        nav_about: "À propos",
        nav_contact: "Contact",
        hero_badge: "Nouvelle Version v1.0",
        hero_title: 'Gérez vos <span class="gradient-text">Dépenses</span> Intelligemment',
        hero_desc: "L'application complète pour gérer votre budget, suivre vos dépenses et enregistrer votre présence. Tout ce dont vous avez besoin au même endroit.",
        btn_download: "Télécharger pour Android",
        btn_more: "En savoir plus",
        features_title: "Pourquoi choisir notre application ?",
        features_subtitle: "Un ensemble d'outils puissants conçus pour votre confort",
        feat_1_title: "Suivi des Dépenses",
        feat_1_desc: "Enregistrez toutes vos dépenses avec précision et sachez où va votre argent grâce à des rapports détaillés et des graphiques.",
        feat_2_title: "Registre de Présence",
        feat_2_desc: "Système intégré pour enregistrer la présence et l'absence, parfait pour le travail ou les études avec des rapports mensuels.",
        feat_3_title: "Portefeuille Intelligent",
        feat_3_desc: "Gestion intelligente du budget avec des options pour répartir les dépenses et fixer des objectifs financiers.",
        feat_4_title: "Sauvegarde Cloud",
        feat_4_desc: "Ne perdez jamais vos données. La fonction de sauvegarde cloud garantit que vos informations sont sécurisées et récupérables à tout moment.",
        about_title: "À propos du développeur – Billel Bouraba",
        about_desc_1: "Je suis Billel Bouraba, développeur d'applications passionné par la programmation et les technologies modernes depuis plus de dix ans. Mon parcours a commencé en 2014, et depuis lors, je développe des projets alliant simplicité, efficacité et expérience utilisateur fluide.",
        about_desc_2: "Je me concentre sur la création de solutions pratiques adaptées aux besoins quotidiens, que ce soit pour la gestion des dépenses, l'organisation du travail ou l'amélioration de la productivité. L'application Masarifi est un projet développé avec passion pour offrir une expérience intelligente et simple.",
        about_desc_3: "Je partage continuellement mes expériences techniques et analyses via mon blog et mes réseaux sociaux, cherchant toujours à développer de meilleurs outils et à soutenir les utilisateurs.",
        about_desc_4: "Si vous avez une question, une suggestion ou souhaitez me contacter directement, je serais ravi de vous entendre.",
        contact_title: "Contacter le Développeur",
        contact_desc: "Suivez-moi sur les réseaux sociaux pour les dernières mises à jour et le support.",
        footer_copy: "Tous droits réservés &copy; 2025 Application Masarifi"
    }
};

// Theme Toggle Logic
const themeToggleBtn = document.getElementById('theme-toggle');
const body = document.body;
const icon = themeToggleBtn.querySelector('i');

// Check saved theme (Default is Light now)
const savedTheme = localStorage.getItem('theme');
if (savedTheme === 'dark') {
    body.classList.add('dark-mode');
    icon.classList.remove('fa-sun');
    icon.classList.add('fa-moon');
} else {
    // Default Light
    icon.classList.remove('fa-moon');
    icon.classList.add('fa-sun');
}

themeToggleBtn.addEventListener('click', () => {
    body.classList.toggle('dark-mode');
    const isDark = body.classList.contains('dark-mode');

    // Update Icon
    if (isDark) {
        icon.classList.remove('fa-sun');
        icon.classList.add('fa-moon');
        localStorage.setItem('theme', 'dark');
    } else {
        icon.classList.remove('fa-moon');
        icon.classList.add('fa-sun');
        localStorage.setItem('theme', 'light');
    }
});

// Language Logic
function setLanguage(lang) {
    const elements = document.querySelectorAll('[data-lang]');
    const currentLangSpan = document.getElementById('current-lang');

    // Update Text
    elements.forEach(el => {
        const key = el.getAttribute('data-lang');
        if (translations[lang][key]) {
            // Check if it contains HTML (like the hero title)
            if (translations[lang][key].includes('<')) {
                el.innerHTML = translations[lang][key];
            } else {
                el.textContent = translations[lang][key];
            }
        }
    });

    // Update Direction and Font
    if (lang === 'ar') {
        document.documentElement.setAttribute('dir', 'rtl');
        document.documentElement.setAttribute('lang', 'ar');
        currentLangSpan.textContent = 'AR';
    } else {
        document.documentElement.setAttribute('dir', 'ltr');
        document.documentElement.setAttribute('lang', lang);
        currentLangSpan.textContent = lang.toUpperCase();
    }

    // Save preference
    localStorage.setItem('lang', lang);
}

// Initialize Language
const savedLang = localStorage.getItem('lang') || 'ar';
setLanguage(savedLang);

// Animation Observer (Existing)
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('show');
        }
    });
});

const hiddenElements = document.querySelectorAll('.feature-card, .hero-content, .hero-image');
hiddenElements.forEach((el) => observer.observe(el));
